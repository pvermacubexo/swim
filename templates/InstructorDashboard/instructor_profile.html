{% extends 'InstructorDashboard/base/base.html' %}
{% block title_block %}Swim Time Instructor{% endblock %}
{% load static %}
{% block exttra_style %}
    <!-- Plugins css -->
    <link href="{% static 'css/leaflet.css' %}" rel="stylesheet" type="text/css"/>
    <link href="{% static 'css/lightpick.css' %}" rel="stylesheet" type="text/css"/>

    <link href="{% static 'css/select2.min.css' %}" rel="stylesheet" type="text/css"/>
    <link href="{% static 'css/bootstrap-colorpicker.css' %}" rel="stylesheet" type="text/css"/>
    <link href="{% static 'css/bootstrap-material-datetimepicker.css' %}" rel="stylesheet" type="text/css"/>
    <link href="{% static 'css/jquery.bootstrap-touchspin.min.css' %}" rel="stylesheet" type="text/css"/>
    <link href="{% static 'css/dataTables.bootstrap4.min.css' %}" rel="stylesheet" type="text/css"/>

    <style>
        .display_none {
            display: none !important;
        }

        #clipboardParagraph:hover {
            overflow: visible;
            white-space: normal;
            width: auto;
            position: absolute;
            background-color: #FFF;
        }


    </style>

{% endblock %}

{% block page_content %}
    <style>
        .hr_scroll_hide {
            max-width: 220px;
            display: inline-block;
            overflow: hidden;
            white-space: nowrap;
            vertical-align: middle;
            margin-right: 15px;
        }

    </style>

    {% if password_updated or user_update %}
        <div class="top_alert_position alert custom-alert custom-alert-success icon-custom-alert alert-secondary-shadow fade show"
             role="alert">
            <i class="mdi mdi-check-all alert-icon alert-icon text-success align-self-center font-30 mr-3"></i>
            <div class="alert-text my-1">
                <h5 class="mb-1 font-weight-bold mt-0">Success</h5>
                <span>{{ password_updated }} {{ user_update }}</span>
            </div>
            <div class="alert-close ">
                <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                    <strong aria-hidden="true" class="text-success">
                        <i class="mdi mdi-close font-16"></i>
                    </strong>
                </button>
            </div>
        </div>

    {% endif %}
    {% if errors %}
        {#                        <p>{{ errors }}</p>#}
        <div class="top_alert_position">
            {% if errors.items %}
                {% for key,value in errors.items %}
                    {#        <p>{{ key }} {{ value }}</p>#}
                    {% for item in value %}
                        {% if key == 'email' %}
                            <div class=" alert custom-alert custom-alert-danger icon-custom-alert alert-secondary-shadow fade show"
                                 role="alert">
                                <i class="la la-skull-crossbones alert-icon alert-icon text-danger align-self-center font-30 mr-3"></i>
                                <div class="alert-text my-1">
                                    <h5 class="mb-1 font-weight-bold mt-0">Error</h5>
                                    <p>Email is required.</p>
                                </div>
                                <div class="alert-close ">
                                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                                        <strong aria-hidden="true" class="text-danger">
                                            <i class="mdi mdi-close font-16"></i>
                                        </strong>
                                    </button>
                                </div>
                            </div>

                        {% elif  key == 'latitude' %}
                            <div class=" alert custom-alert custom-alert-danger icon-custom-alert alert-secondary-shadow fade show"
                                 role="alert">
                                <i class="la la-skull-crossbones alert-icon alert-icon text-danger align-self-center font-30 mr-3"></i>
                                <div class="alert-text my-1">
                                    <h5 class="mb-1 font-weight-bold mt-0">Error</h5>
                                    <p>Latitude is required.</p>
                                </div>
                                <div class="alert-close ">
                                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                                        <strong aria-hidden="true" class="text-danger">
                                            <i class="mdi mdi-close font-16"></i>
                                        </strong>
                                    </button>
                                </div>
                            </div>

                        {% elif  key == 'longitude' %}
                            <div class=" alert custom-alert custom-alert-danger icon-custom-alert alert-secondary-shadow fade show"
                                 role="alert">
                                <i class="la la-skull-crossbones alert-icon alert-icon text-danger align-self-center font-30 mr-3"></i>
                                <div class="alert-text my-1">
                                    <h5 class="mb-1 font-weight-bold mt-0">Error</h5>
                                    <p>Longitude is required.</p>
                                </div>
                                <div class="alert-close ">
                                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                                        <strong aria-hidden="true" class="text-danger">
                                            <i class="mdi mdi-close font-16"></i>
                                        </strong>
                                    </button>
                                </div>
                            </div>
                        {% elif key == 'new_password' %}
                            <div class=" alert custom-alert custom-alert-danger icon-custom-alert alert-secondary-shadow fade show"
                                 role="alert">
                                <i class="la la-skull-crossbones alert-icon alert-icon text-danger align-self-center font-30 mr-3"></i>
                                <div class="alert-text my-1">
                                    <h5 class="mb-1 font-weight-bold mt-0">Error</h5>
                                    <p>{{ value.0 }}</p>
                                </div>
                                <div class="alert-close ">
                                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                                        <strong aria-hidden="true" class="text-danger">
                                            <i class="mdi mdi-close font-16"></i>
                                        </strong>
                                    </button>
                                </div>
                            </div>
                        {% elif key == 'confirm_password' %}
                            <div class=" alert custom-alert custom-alert-danger icon-custom-alert alert-secondary-shadow fade show"
                                 role="alert">
                                <i class="la la-skull-crossbones alert-icon alert-icon text-danger align-self-center font-30 mr-3"></i>
                                <div class="alert-text my-1">
                                    <h5 class="mb-1 font-weight-bold mt-0">Error</h5>
                                    <p>{{ value.0 }}</p>
                                </div>
                                <div class="alert-close ">
                                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                                        <strong aria-hidden="true" class="text-danger">
                                            <i class="mdi mdi-close font-16"></i>
                                        </strong>
                                    </button>
                                </div>
                            </div>
                        {% elif key == 'password_error' %}
                            <div class=" alert custom-alert custom-alert-danger icon-custom-alert alert-secondary-shadow fade show"
                                 role="alert">
                                <i class="la la-skull-crossbones alert-icon alert-icon text-danger align-self-center font-30 mr-3"></i>
                                <div class="alert-text my-1">
                                    <h5 class="mb-1 font-weight-bold mt-0">Error</h5>
                                    <p>{{ value.0 }}</p>
                                </div>
                                <div class="alert-close ">
                                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                                        <strong aria-hidden="true" class="text-danger">
                                            <i class="mdi mdi-close font-16"></i>
                                        </strong>
                                    </button>
                                </div>
                            </div>


                        {% endif %}
                    {% endfor %}
                {% endfor %}
            {% else %}

                <div class=" alert custom-alert custom-alert-danger icon-custom-alert alert-secondary-shadow fade show"
                     role="alert">
                    <i class="la la-skull-crossbones alert-icon alert-icon text-danger align-self-center font-30 mr-3"></i>
                    <div class="alert-text my-1">
                        <h5 class="mb-1 font-weight-bold mt-0">Error</h5>
                        <p>{{ errors }}</p>
                    </div>
                    <div class="alert-close ">
                        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                            <strong aria-hidden="true" class="text-danger">
                                <i class="mdi mdi-close font-16"></i>
                            </strong>
                        </button>
                    </div>
                </div>
            {% endif %}

        </div>
    {% endif %}
    <!-- Page Content-->
    <div class="page-content">
        <div class="container-fluid">

            <!-- Page-Title -->
            <div class="row">
                <div class="col-sm-12">
                    <div class="page-title-box">
                        <div class="row">
                            <div class="col">
                                <h4 class="page-title">Profile</h4>
                                <ol class="breadcrumb">
                                    <li class="breadcrumb-item"><a
                                            href="javascript:void(0);">{{ user.get_full_name }}</a></li>
                                    <li class="breadcrumb-item active">Profile</li>
                                </ol>
                            </div><!--end col-->
                        </div><!--end row-->
                    </div><!--end page-title-box-->
                </div><!--end col-->
            </div><!--end row-->
            <!-- end page title end breadcrumb -->
            <div class="row">
                <div class="col-12">
                    <div class="card">
                        <div class="card-body p-0">
                            <div id="user_map" class="pro-map" style="height: 220px; display:none;">
                            </div>
                        </div><!--end card-body-->
                        <div class="card-body">
                            <div class="dastone-profile">
                                <div class="row">
                                    <div class="col-lg-4 align-self-center mb-3 mb-lg-0">
                                        <div class="dastone-profile-main">
                                            <div class="dastone-profile-main-pic">
                                                <form method="post"
                                                      action="{% url 'InstructorDashboard:profile_update' %}"
                                                      enctype="multipart/form-data">
                                                    {% csrf_token %}
                                                    <img src="{{ user.profile_img.url }}" alt="" height="110"
                                                         class="rounded-circle" style="width: 100%; height: 130px;">
                                                    <label for="profile_image">
                                                                <span class="dastone-profile_main-pic-change">
                                                                    <i class="fas fa-camera"></i>
                                                                </span>
                                                    </label>
                                                    <input type="file" onchange="this.form.submit()" id="profile_image"
                                                           accept="image/*" name="profile_img" style="display: none;">
                                                </form>
                                            </div>
                                            <div class="dastone-profile_user-detail">
                                                <h5 class="dastone-user-name">{{ user.get_full_name }}</h5>
                                            </div>
                                        </div>
                                    </div><!--end col-->


                                    <div class="col-lg-4 ml-auto align-self-center">
                                        <ul class="list-unstyled personal-detail mb-0">
                                            <li class=""><i
                                                    class="las la-phone mr-2 text-secondary font-22 align-middle"></i>
                                                <b> phone </b> : {{ user.mobile_no }}</li>
                                            <li class="mt-2"><i
                                                    class="las la-envelope text-secondary font-22 align-middle mr-2"></i>
                                                <b> Email </b> : {{ user.email }}</li>
                                            <li class="mt-2"><i
                                                    class="las la-link text-secondary font-22 align-middle mr-2"></i>
                                                <b> Url </b> : <span id="clipboardParagraph"
                                                                     class="hr_scroll_hide">{{ user.get_profile.url }}</span>
                                                <span class="btn btn-secondary btn-xs" data-clipboard-action="copy"
                                                      data-clipboard-target="#clipboardParagraph"><i
                                                        class="mdi mdi-content-copy" title="copy"></i></span>
                                            </li>
                                        </ul>

                                    </div><!--end col-->
                                    <div class="col-lg-4 align-self-center">
                                        <div class="row">
                                            <div class="col-auto text-center border-right">
                                                <a href="




                                                        {% if user.get_profile.facebook_link %}{{ user.get_profile.facebook_link }}{% endif %}"
                                                   target="_blank"
                                                   class="btn btn-soft-primary btn-icon-circle-sm mb-2">
                                                    <i class="fab fa-facebook-f"></i>
                                                </a>
                                                <p class="mb-0 font-weight-semibold">Facebook</p>
                                            </div><!--end col-->
                                            <div class="col-auto text-center border-right">
                                                <a href="




                                                        {% if user.get_profile.twitter_link %}{{ user.get_profile.twitter_link }}{% endif %}"
                                                   target="_blank"
                                                   class="btn btn-soft-info btn-icon-circle-sm mb-2">
                                                    <i class="fab fa-twitter"></i>
                                                </a>
                                                <p class="mb-0 font-weight-semibold">Twitter</p>
                                            </div><!--end col-->
                                            <div class="col-auto text-center">
                                                <a href="




                                                        {% if user.get_profile.instagram_link %}{{ user.get_profile.instagram_link }}{% endif %}"
                                                   target="_blank"
                                                   class="btn btn-soft-danger btn-icon-circle-sm mb-2">
                                                    <i class="fab fa-instagram-square"></i>
                                                </a>
                                                <p class="mb-0 font-weight-semibold">Instagram</p>
                                            </div><!--end col-->
                                        </div><!--end row-->
                                    </div><!--end col-->
                                </div><!--end row-->
                            </div><!--end f_profile-->
                        </div><!--end card-body-->
                    </div> <!--end card-->
                </div><!--end col-->
            </div><!--end row-->
            <div class="pb-4">
                <ul class="nav-border nav nav-pills mb-0" id="pills-tab" role="tablist">
                    <li class="nav-item">
                        <a class="nav-link active" id="settings_detail_tab" data-toggle="pill" href="#Profile_Settings">Settings</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-toggle="pill" href="#break_time_tab">
                            Break Time</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" id="password_update_tab" data-toggle="pill" href="#Password_update_tab">Change
                            Password</a>
                    </li>
                </ul>
            </div><!--end card-body-->
            <div class="row">
                <div class="col-12">
                    <div class="tab-content" id="pills-tabContent">
                        <div class="tab-pane fade show active" id="Profile_Settings" role="tabpanel"
                             aria-labelledby="settings_detail_tab">
                            <form method="post" action="{% url 'InstructorDashboard:instructor_profile' %}">
                                {% csrf_token %}
                                <div class="row">
                                    <div class="col-md-7">
                                        <div class="card">
                                            <div class="card-header">
                                                <div class="row align-items-center">
                                                    <div class="col">
                                                        <h4 class="card-title">Personal Information</h4>
                                                    </div><!--end col-->
                                                </div>  <!--end row-->
                                            </div><!--end card-header-->
                                            <div class="card-body">
                                                <div class="row">
                                                    <div class="col-md-6">
                                                        <div class="form-group ">
                                                            <label>First Name</label>
                                                            <div class="input-group">
                                                                <div class="input-group-prepend"><span
                                                                        class="input-group-text"><i
                                                                        class="dripicons-user "></i></span></div>
                                                                <input type="text" class="form-control"
                                                                       pattern="[A-Za-z]{3,}"
                                                                       title="only alphabetic characters are allowed"
                                                                       name="first_name"
                                                                       value="
                                                                               {% if user.first_name %}{{ user.first_name }}{% endif %}"
                                                                       aria-describedby="basic-addon1">
                                                            </div>
                                                            {% if errors.first_name %}
                                                                {% for error in errors.first_name %}
                                                                    <p class="profile_error">{{ error }}</p>
                                                                {% endfor %}
                                                            {% endif %}
                                                        </div>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <div class="form-group ">
                                                            <label>LastName</label>
                                                            <div class="input-group">
                                                                <div class="input-group-prepend"><span
                                                                        class="input-group-text"><i
                                                                        class="dripicons-user "></i></span></div>
                                                                <input type="text" class="form-control" name="last_name"
                                                                        pattern="[A-Za-z]{3,}"
                                                                       title="only alphabetic characters are allowed"
                                                                       value="{% if user.last_name %}{{ user.last_name }}{% endif %}"

                                                                       aria-describedby="basic-addon1">
                                                            </div>
                                                            {% if errors.last_name %}
                                                                {% for error in errors.last_name %}
                                                                    <p class="profile_error">{{ error }}</p>
                                                                {% endfor %}
                                                            {% endif %}


                                                        </div>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <div class="form-group">
                                                            <label>Contact Phone</label>
                                                            <div class="input-group">
                                                                <div class="input-group-prepend"><span
                                                                        class="input-group-text"><i
                                                                        class="las la-phone"></i></span></div>
                                                                <input type="number" class="form-control"
                                                                       name="mobile_no"
                                                                       pattern="[0-9]{8,20}"
                                                                       title="Invalid Mobile number , range should be 8 to 20"
                                                                       value="{% if user.mobile_no %}{{ user.mobile_no }}{% endif %}"

                                                                       placeholder="Phone"
                                                                       onkeydown="return ((event.keyCode !== 69) && (event.keyCode !== 187) && (event.keyCode !== 189))"
                                                                       aria-describedby="basic-addon1">

                                                            </div>
                                                            {% if errors.mobile_no %}
                                                                {% for error in errors.mobile_no %}
                                                                    <p class="profile_error">{{ error }}</p>
                                                                {% endfor %}
                                                            {% endif %}
                                                        </div>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <div class="form-group ">
                                                            <label>Email Address</label>
                                                            <div class="input-group">
                                                                <div class="input-group-prepend"><span
                                                                        class="input-group-text"><i
                                                                        class="far fa-envelope-open "></i></span></div>
                                                                <input type="email" class="form-control" name="email"
                                                                        pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$"
                                                                       title="Invalid Email Address example@example.com"
                                                                       value="{% if user.email %}{{ user.email }}{% endif %}"

                                                                       placeholder="Email"
                                                                       aria-describedby="basic-addon1">

                                                            </div>
                                                            {% if errors.email %}
                                                                {% for error in errors.email %}
                                                                    <p class="profile_error">{{ error }}</p>
                                                                {% endfor %}
                                                            {% endif %}
                                                        </div>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <div class="form-group ">
                                                            <label> Address</label>
                                                            <div class="input-group">
                                                                <div class="input-group-prepend"><span
                                                                        class="input-group-text"><i
                                                                        class=" typcn typcn-globe "></i></span></div>
                                                                <input type="text" class="form-control" name="address"
                                                                       pattern="[A-Za-z ]{3,}"
                                                                       value="
                                                                               {% if user.address %}{{ user.address }}{% endif %}"
                                                                       placeholder="Address"
                                                                       aria-describedby="basic-addon1">

                                                            </div>
                                                            {% if errors.address %}
                                                                {% for error in errors.address %}
                                                                    <p class="profile_error">{{ error }}</p>
                                                                {% endfor %}
                                                            {% endif %}
                                                        </div>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <div class="form-group ">
                                                            <label> Language</label>
                                                            <div class="input-group">
                                                                <div class="input-group-prepend"><span
                                                                        class="input-group-text"><i
                                                                        class="typcn typcn-clipboard  "></i></span>
                                                                </div>
                                                                <input type="text" class="form-control" name="language"
                                                                       value="
                                                                               {% if user.get_profile.language %}{{ user.get_profile.language }}{% endif %}"
                                                                       placeholder="Language"
                                                                       aria-describedby="basic-addon1">

                                                            </div>
                                                            {% if errors.language %}
                                                                {% for error in errors.language %}
                                                                    <p class="profile_error">{{ error }}</p>
                                                                {% endfor %}
                                                            {% endif %}
                                                        </div>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <div class="form-group ">
                                                            <label>Latitude</label>
                                                            <div class="input-group">
                                                                <div class="input-group-prepend"><span
                                                                        class="input-group-text"><i
                                                                        class="fas fa-map-marker-alt "></i></span></div>
                                                                <input type="text" class="form-control" name="latitude"
                                                                       value="
                                                                               {% if user.latitude %}{{ user.latitude }}{% endif %}"
                                                                       placeholder="Latitude"
                                                                       aria-describedby="basic-addon1">

                                                            </div>
                                                            {% if errors.latitude %}
                                                                {% for error in errors.latitude %}
                                                                    <p class="profile_error">{{ error }}</p>
                                                                {% endfor %}
                                                            {% endif %}
                                                        </div>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <div class="form-group">
                                                            <label>Longitude</label>
                                                            <div class="input-group">
                                                                <div class="input-group-prepend"><span
                                                                        class="input-group-text"><i
                                                                        class="fas fa-map-marker-alt "></i></span></div>
                                                                <input type="text" class="form-control" name="longitude"
                                                                       value="
                                                                               {% if user.longitude %}{{ user.longitude }}{% endif %}"
                                                                       placeholder="Longitude"
                                                                       aria-describedby="basic-addon1">

                                                            </div>
                                                            {% if errors.longitude %}
                                                                {% for error in errors.longitude %}
                                                                    <p class="profile_error">{{ error }}</p>
                                                                {% endfor %}
                                                            {% endif %}
                                                        </div>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <div class="form-group">
                                                            <label>About</label>
                                                            <div class="input-group">
                                                                <div class="input-group-prepend"><span
                                                                        class="input-group-text">
                                                                        <i class="fas fa-location-arrow text-primary"></i></span>
                                                                </div>
                                                                <div>
                                                                    <input type="text" class="form-control"
                                                                           name="about"
                                                                           value="
                                                                                   {% if user.get_profile.about %}{{ user.get_profile.about }}{% endif %}"
                                                                           placeholder="About"
                                                                           aria-describedby="basic-addon1">
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <div class="form-group">
                                                            <label>Facebook Link</label>
                                                            <div class="input-group">
                                                                <div class="input-group-prepend"><span
                                                                        class="input-group-text">
                                                                        <i class="mdi mdi-facebook-box text-primary"></i></span>
                                                                </div>
                                                                <div>
                                                                    <input type="text" class="form-control"
                                                                           name="facebook_link"
                                                                           value="
                                                                                   {% if user.get_profile.facebook_link %}{{ user.get_profile.facebook_link }}{% endif %}"
                                                                           placeholder="Facebook"
                                                                           aria-describedby="basic-addon1">
                                                                </div>
                                                                {% if errors.facebook_link %}
                                                                    {% for error in errors.facebook_link %}
                                                                        <p class="profile_error">{{ error }}</p>
                                                                    {% endfor %}
                                                                {% endif %}
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <div class="form-group ">
                                                            <label>Instagram Link</label>
                                                            <div class="input-group">
                                                                <div class="input-group-prepend"><span
                                                                        class="input-group-text">
                                                                        <i class="mdi mdi-instagram text-danger"></i></span>
                                                                </div>
                                                                <div>
                                                                    <input type="text" class="form-control"
                                                                           name="instagram_link"
                                                                           value="
                                                                                   {% if user.get_profile.instagram_link %}{{ user.get_profile.instagram_link }}{% endif %}"
                                                                           placeholder="Instagram"
                                                                           aria-describedby="basic-addon1">
                                                                </div>
                                                                {% if errors.instagram_link %}
                                                                    {% for error in errors.instagram_link %}
                                                                        <p class="profile_error">{{ error }}</p>
                                                                    {% endfor %}
                                                                {% endif %}
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <div class="form-group ">
                                                            <label>Twitter Link</label>
                                                            <div class="input-group">
                                                                <div class="input-group-prepend"><span
                                                                        class="input-group-text">
                                                                        <i class="mdi mdi-twitter-box text-info"></i></span>
                                                                </div>
                                                                <div>
                                                                    <input type="text" class="form-control"
                                                                           name="twitter_link"
                                                                           value="
                                                                                   {% if user.get_profile.twitter_link %}{{ user.get_profile.twitter_link }}{% endif %}"
                                                                           placeholder="Twitter"
                                                                           aria-describedby="basic-addon1">
                                                                </div>
                                                                {% if errors.twitter_link %}
                                                                    {% for error in errors.twitter_link %}
                                                                        <p class="profile_error">{{ error }}</p>
                                                                    {% endfor %}
                                                                {% endif %}
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <br/>
                                                        <div class="form-group ">
                                                            <input type="submit" class="btn btn-primary btn-sm" value="Submit" style="width:250px;">

                                                        </div>
                                                    </div>

                                                </div>
                                            </div>
                                        </div>
                                    </div> <!--end col-->
                                    <div class="col-md-5 ">
                                        <div class="card">
                                            <div class="card-header">
                                                <div class="row align-items-center">
                                                    <div class="col">
                                                        <h4 class="card-title">Working Days</h4>
                                                    </div><!--end col-->
                                                </div>  <!--end row-->
                                            </div><!--end card-header-->
                                            <div class="card-body">
                                                <div class="row">
                                                    <div class="col-md-6">
                                                        <div class="custom-control custom-switch switch-primary mb-2">
                                                            <input type="checkbox" class="custom-control-input"
                                                                   name="monday" id="monday_switch"
                                                                    {% if user.get_profile.monday %}
                                                                   checked="checked" {% endif %}
                                                            >
                                                            <label class="custom-control-label text-dark"
                                                                   for="monday_switch"> Monday</label>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <div class="custom-control custom-switch switch-primary mb-2">
                                                            <input type="checkbox" class="custom-control-input"
                                                                   name="tuesday"
                                                                   id="tuesday_switch"
                                                                    {% if user.get_profile.tuesday %}
                                                                   checked="" {% endif %}
                                                            >
                                                            <label class="custom-control-label text-dark"
                                                                   for="tuesday_switch"> Tuesday</label>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <div class="custom-control custom-switch switch-primary mb-2">
                                                            <input type="checkbox" class="custom-control-input"
                                                                   id="wednesday_switch" name="wednesday"
                                                                    {% if user.get_profile.wednesday %}
                                                                   checked="checked" {% endif %}
                                                            >
                                                            <label class="custom-control-label text-dark"
                                                                   for="wednesday_switch"> Wednesday</label>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <div class="custom-control custom-switch switch-primary mb-2">
                                                            <input type="checkbox" class="custom-control-input"
                                                                   id="thursday_switch" name="thursday"
                                                                    {% if user.get_profile.thursday %}
                                                                   checked="checked" {% endif %}
                                                            >
                                                            <label class="custom-control-label text-dark"
                                                                   for="thursday_switch"> Thursday</label>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <div class="custom-control custom-switch switch-primary mb-2">
                                                            <input type="checkbox" class="custom-control-input"
                                                                   id="friday_switch" name="friday"
                                                                    {% if user.get_profile.friday %}
                                                                   checked="checked" {% endif %}
                                                            >
                                                            <label class="custom-control-label text-dark"
                                                                   for="friday_switch"> Friday</label>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <div class="custom-control custom-switch switch-primary mb-2">
                                                            <input type="checkbox" class="custom-control-input"
                                                                   id="saturday_switch" name="saturday"
                                                                    {% if user.get_profile.saturday %}
                                                                   checked="checked" {% endif %}
                                                            >
                                                            <label class="custom-control-label text-dark"
                                                                   for="saturday_switch"> Saturday</label>
                                                        </div>

                                                    </div>
                                                    <div class="col-md-6">
                                                        <div class="custom-control custom-switch switch-primary mb-2">
                                                            <input type="checkbox" class="custom-control-input"
                                                                   id="sunday_switch" name="sunday"
                                                                    {% if user.get_profile.sunday %}
                                                                   checked="checked" {% endif %}
                                                            >
                                                            <label class="custom-control-label text-dark"
                                                                   for="sunday_switch"> Sunday</label>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="card">
                                            <div class="card-header">
                                                <div class="row align-items-center">
                                                    <div class="col">
                                                        <h4 class="card-title">Working Time in a Day</h4>
                                                    </div><!--end col-->
                                                </div>  <!--end row-->
                                            </div><!--end card-header-->
                                            <div class="card-body">
                                                <div class="row">
                                                    <div class="col-md-6">
                                                        <div class="form-group">
                                                            <label>Start Time</label>
                                                            <div class="input-group">
                                                                <div class="input-group-prepend">
                                                                    <span class="input-group-text">
                                                                        <i class="mdi mdi-calendar-clock"></i>
                                                                    </span>
                                                                </div>

                                                                <input name="day_start_time" type="text"
                                                                       class="timepicker form-control"
                                                                       value="
                                                                               {% if instructor.get_day_start_time %}{{ instructor.get_day_start_time }}{% endif %}"
                                                                       placeholder="Start Time">
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <div class="form-group">
                                                            <label>End Time</label>
                                                            <div class="input-group">
                                                                <div class="input-group-prepend">
                                                            <span class="input-group-text">
                                                                <i class="mdi mdi-calendar-clock"></i>
                                                            </span>
                                                                </div>
                                                                <input name="day_end_time" type="text"
                                                                       class="timepicker form-control"
                                                                       value="
                                                                               {% if instructor.get_day_end_time %}{{ instructor.get_day_end_time }}{% endif %}"
                                                                       placeholder="End Time">
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div> <!--end col-->
                                </div><!--end row-->
                            </form>
                        </div>
                        <div class="tab-pane fade" id="break_time_tab" role="tabpanel"
                             aria-labelledby="break_time_tab">
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="card">
                                        <div class="card-header">
                                            <div class="row">
                                                <div class="col-md-7">
                                                    <h4 class="card-title" style="display: inline-block">break time</h4>
                                                </div>
                                                <div class="col-md-5">
                                                    <h4 class="card-title" style="display: inline-block">Add break
                                                        time</h4>
                                                </div>
                                            </div>
                                            {#                                            <a href="javascript:void(0);" class="btn btn-success add_button" style="float: right;" title="Add field"> add more</a>#}

                                        </div><!--end card-header-->
                                        <div class="card-body">
                                            <div class="row">
                                                <div class="col-md-7">
                                                    <div class="table-responsive">
                                                        <table class="table dataTable table-bordered dt-responsive nowrap dataTable no-footer dtr-inline"
                                                               style="border-collapse: collapse; border-spacing: 0px; width: 100%;"
                                                               role="grid" aria-describedby="datatable_info">
                                                            <thead>
                                                            <tr>
                                                                <th>Week Day</th>
                                                                <th>Start time</th>
                                                                <th>End time</th>
                                                                <th>Action</th>
                                                            </tr>
                                                            </thead>
                                                            <tbody>
                                                            {% for time in break_time_list %}
                                                                <tr>
                                                                    <td>{{ time.get_week_string }}</td>
                                                                    <td>{{ time.get_start_time|time:'h:i A' }}</td>
                                                                    <td>{{ time.get_end_time|time:'h:i A' }}</td>
                                                                    <td>
                                                                        <a href="{% url 'InstructorDashboard:del_break_time' time.id %}"
                                                                           class="btn btn-danger btn-sm"><i
                                                                                class="fa fa-trash"></i></a></td>
                                                                </tr>
                                                            {% endfor %}
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                                <div class="col-md-5">
                                                    <form id="form-container"
                                                          action="{% url 'InstructorDashboard:add_break_time' %}"
                                                          method="POST">
                                                        {% csrf_token %}
                                                        {{ break_time.management_form }}
                                                        {% for form in break_time %}
                                                            <div class="break-time-form">
                                                                <div class="form-group">
                                                                    {{ form.instructor }}
                                                                </div>
                                                                <div class="form-group">
                                                                    {{ form.week_day }}
                                                                </div>
                                                                <div class="form-group">
                                                                    {{ form.start_time }}
                                                                </div>
                                                                <div class="form-group">
                                                                    {{ form.end_time }}
                                                                </div>
                                                                {#                                                        {{form.as_p}}#}
                                                            </div>
                                                        {% endfor %}
                                                        <button id="add-form" type="button" class="btn btn-info">Add
                                                            Another
                                                        </button>
                                                        <button type="submit" class="btn btn-success">Submit</button>
                                                    </form>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="tab-pane fade" id="Password_update_tab" role="tabpanel"
                             aria-labelledby="Password_update_tab">
                            <div class="row">
                                <div class="col-lg-6 col-xl-6">
                                    <div class="card">
                                        <div class="card-header">
                                            <h4 class="card-title">Change Password</h4>
                                        </div><!--end card-header-->
                                        <div class="card-body">
                                            <form action="{% url 'InstructorDashboard:change_password' %}"
                                                  method="post">
                                                {% csrf_token %}
                                                <div class="form-group row">
                                                    <label class="col-xl-3 col-lg-3 text-right mb-lg-0 align-self-center">New
                                                        Password</label>
                                                    <div class="col-lg-9 col-xl-8">
                                                        <div class="input-group">
                                                            <div class="input-group-prepend"><span
                                                                    class="input-group-text"><i
                                                                    class="typcn typcn-key-outline "></i></span></div>
                                                            <input type="password" class="form-control"
                                                                   name="new_password"
                                                                   placeholder="New Password"
                                                                   pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$"
                                                                   title="Password Contains Minimum eight characters, at least one uppercase letter, one lowercase letter, one number and one special character"
                                                                   required="required">
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="form-group row">
                                                    <label class="col-xl-3 col-lg-3 text-right mb-lg-0 align-self-center">Confirm
                                                        Password</label>
                                                    <div class="col-lg-9 col-xl-8">

                                                        <div class="input-group">
                                                            <div class="input-group-prepend"><span
                                                                    class="input-group-text"><i
                                                                    class="typcn typcn-key-outline "></i></span></div>
                                                            <input type="password" class="form-control"
                                                                   name="confirm_password"
                                                                   pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$"
                                                                   title="Password Contains Minimum eight characters, at least one uppercase letter, one lowercase letter, one number and one special character"
                                                                   placeholder="Confirm-Password"
                                                                   required="required">
                                                        </div>
                                                        <span class="form-text text-muted font-12">Never share your password.</span>
                                                    </div>
                                                </div>
                                                <div class="form-group row">
                                                    <div class="col-lg-9 col-xl-8 offset-lg-3">
                                                        <input type="submit" class="btn btn-primary btn-sm"
                                                               value="Change Password">
                                                    </div>
                                                </div>

                                            </form>
                                        </div><!--end card-body-->
                                    </div><!--end card-->
                                </div> <!-- end col -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>


    </div>
{% endblock %}

{% block extra_script %}
    <script src="{% static 'js/clipboard.min.js' %}"></script>
    <script src="{% static 'js/jquery.clipboard.init.js' %}"></script>
    <script src="{% static 'js/jquery.clipboard.init.js' %}"></script>
    <script src="{% static 'js/leaflet.js' %}"></script>
    <script src="{% static 'js/lightpick.js' %}"></script>
    {#    <script src="https://mannatthemes.com/dastone-1/plugins/leaflet/leaflet.js"></script>#}
    <script src="https://mannatthemes.com/dastone/default/assets/pages/jquery.profile.init.js"></script>
    <script>
        var cities = L.layerGroup();
        L.marker([{% if user.latitude %}{{ user.latitude }}{% else %}44.500000{% endif %}, {% if user.longitude %}{{ user.longitude }}{% else %}-89.500000{% endif %}]).bindPopup("Instructor Location").addTo(cities);
        mbUrl = "https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoiZGVlcGFrLTgwNTEiLCJhIjoiY2ttNDB6czdwMDAzdTJ1b2YzaXl6OTZ6eSJ9.ezvqKvXLWLC6paLYrIHv7w";
        var grayscale = L.tileLayer(mbUrl, {id: "mapbox/light-v9", tileSize: 512, zoomOffset: -1}),
            streets = L.tileLayer(mbUrl, {id: "mapbox/streets-v11", tileSize: 512, zoomOffset: -1}),
            map = L.map("user_map", {
                center: [{% if user.latitude %}{{ user.latitude }}{% else %}44.500000{% endif %}, {% if user.longitude %}{{ user.longitude }}{% else %}-89.500000{% endif %}],
                zoom: 10,
                layers: [grayscale, cities]
            }),
            baseLayers = {Grayscale: grayscale, Streets: streets},
            overlays = {Cities: cities};
        L.control.layers(baseLayers, overlays).addTo(map), new Lightpick({
            field: document.getElementById("light_datepick"),
            inline: !0
        });
    </script>

    <!-- Plugins js -->

    <script src="{% static 'js/daterangepicker.js' %}"></script>
    <script src="{% static 'js/select2.min.js' %}"></script>
    <script src="{% static 'js/bootstrap-colorpicker.min.js' %}"></script>
    <script src="{% static 'js/bootstrap-material-datetimepicker.js' %}"></script>
    <script src="{% static 'js/bootstrap-maxlength.min.js' %}"></script>
    <script src="{% static 'js/jquery.bootstrap-touchspin.min.js' %}"></script>

    <script src="{% static 'js/jquery.dataTables.min.js' %}"></script>
    <script src="{% static 'js/dataTables.bootstrap4.min.js' %}"></script>
    <script>
        $(document).ready(function () {
            $(".dataTable").DataTable()
        });

    </script>
    <script>
        !(function (e) {
            "use strict";
            var t = function () {
            };
            (t.prototype.init = function () {
                e(".timepicker").bootstrapMaterialDatePicker({format: "HH:mm:ss", time: !0, date: !1});
            }),
                (e.AdvancedForm = new t()),
                (e.AdvancedForm.Constructor = t);
        })(window.jQuery),
            (function (t) {
                "use strict";
                window.jQuery.AdvancedForm.init();
            })();


    </script>
    <script type="text/javascript">
        var json_string = unescape({{instructor_id | safe | escapejs}});
        var instructor_id = JSON.parse(json_string);
        $(".break_time_profile option").each(function () {
            let optin_val = $(this).val();
            if (optin_val == 9) {
                $(this).attr("selected", "selected");
            }
        });
    </script>


    <script>
        let birdForm = document.querySelectorAll(".break-time-form")
        let container = document.querySelector("#form-container")
        let addButton = document.querySelector("#add-form")
        let totalForms = document.querySelector("#id_form-TOTAL_FORMS")

        let formNum = birdForm.length - 1
        addButton.addEventListener('click', addForm)

        function addForm(e) {
            e.preventDefault()

            let newForm = birdForm[0].cloneNode(true)
            let formRegex = RegExp(`form-(\\d){1}-`, 'g')

            formNum++
            newForm.innerHTML = newForm.innerHTML.replace(formRegex, `form-${formNum}-`)
            container.insertBefore(newForm, addButton)

            totalForms.setAttribute('value', `${formNum + 1}`)

            // select default user

            var json_string = unescape({{instructor_id | safe | escapejs}});
            var instructor_id = JSON.parse(json_string);
            $(".break_time_profile option").each(function () {
                if ($(this).val() == instructor_id) {
                    $(this).attr("selected", "selected");
                }
            });

            // add timepicker
            !(function (e) {
                "use strict";
                var t = function () {
                };
                (t.prototype.init = function () {
                    e(".timepicker").bootstrapMaterialDatePicker({format: "HH:mm:ss", time: !0, date: !1});
                }),
                    (e.AdvancedForm = new t()),
                    (e.AdvancedForm.Constructor = t);
            })(window.jQuery),
                (function (t) {
                    "use strict";
                    window.jQuery.AdvancedForm.init();
                })();
        }
    </script>

    <script type="text/javascript">
        /*
            $(document).ready(function(){
                var addButton = $('.add_button'); //Add button selector
                var wrapper = $('.field_wrapper'); //Input field wrapper
                var fieldHTML = '<div class="col-md-4 added_container">' +
                    '<div class="form-group">' +
                    '<select class="form-control" name="select_week_day">' +
                    '<option>Select a day</option>' +
                    '<option>Monday</option>' +
                    '<option>Tuesday</option>' +
                    '<option>Wednesday</option>' +
                    '<option>Thursday</option>' +
                    '<option>Friday</option>' +
                    '<option>Saturday</option>' +
                    '<option>Sunday</option>' +
                    '</select>' +
                    '</div>' +
                    '<div class="form-group">' +
                    '<div class="row">' +
                    '<div class="col-md-6">' +
                    '<label>Start Time</label>' +
                    '<div class="input-group">' +
                    '<div class="input-group-prepend">' +
                    '<span class="input-group-text">' +
                    '<i class="mdi mdi-calendar-clock"></i>' +
                    '</span>' +
                    '</div>' +
                    '<input name="day_start_time" type="text"class="add_more_timepicker form-control" placeholder="Start Time">' +
                    '</div>' +
                    '</div>' +
                    '<div class="col-md-6">' +
                    '<label>End Time</label>' +
                    '<div class="input-group">' +
                    '<div class="input-group-prepend">' +
                    '<span class="input-group-text">' +
                    '<i class="mdi mdi-calendar-clock"></i>' +
                    '</span>' +
                    '</div>' +
                    '<input name="day_end_time" type="text"class="add_more_timepicker form-control"placeholder="Start Time">' +
                    '</div>' +
                    '</div>' +
                    '</div>' +
                    '</div>' +
                    '<a class="btn btn-danger remove_button">Remove field</a>' +
                    '</div>'//New input field html

                //Once add button is clicked
                $(addButton).click(function(){
                    $(wrapper).append(fieldHTML); //Add field html
                    !(function (e) {
                        "use strict";
                        var t = function () {
                        };
                        (t.prototype.init = function () {
                            e(".add_more_timepicker").bootstrapMaterialDatePicker({format: "HH:mm:ss", time: !0, date: !1});
                        }),
                        (e.AdvancedForm = new t()),
                        (e.AdvancedForm.Constructor = t);
                        })(window.jQuery),
                        (function (t) {
                            "use strict";
                            window.jQuery.AdvancedForm.init();
                        })();


                });

                //Once remove button is clicked
                $(wrapper).on('click', '.remove_button', function(e){
                    e.preventDefault();
                    $(this).parent('.added_container').remove(); //Remove field html
                });
            });
            */

    </script>
    <script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script>
        var minLength = 10;
        var maxLength = 25;
        $(document).ready(function () {
            $('#mobile_no').on('keydown keyup change', function () {
                var char = $(this).val();
                var charLength = $(this).val().length;
                if (charLength < minLength) {
                    alert('Length is short, minimum 10 required.');
                } else if (charLength > maxLength) {
                    alert('Length is not valid, maximum 25 allowed.');
                    $(this).val(char.substring(0, maxLength));
                } else {
                    $('#warning-message').text('');
                }
            });
        });
    </script>
    <script>
        setTimeout(function () {
            $("[data-dismiss=alert]").click();
        }, 2000);
    </script>
{% endblock %}

